config BR2_PACKAGE_CHROMIUM_ARCH_SUPPORTS
	bool
	default y if BR2_arm || BR2_armeb
	default y if BR2_aarch64 || BR2_aarch64_be
	default y if BR2_i386 || BR2_x86_64
	default y if BR2_mips || BR2_mipsel || BR2_mips64 || BR2_mips64el

config BR2_PACKAGE_CHROMIUM_HOST_ARCH_SUPPORTS
	bool
	default y if BR2_HOSTARCH = "x86" || BR2_HOSTARCH = "x86_64"

config BR2_PACKAGE_CHROMIUM_TARGET_CPU
	string
	default "arm" if BR2_arm || BR2_armeb
	default "arm64" if BR2_aarch64 || BR2_aarch64_be
	default "x86" if BR2_i386
	default "x64" if BR2_x86_64
	default "mips" if BR2_mips
	default "mipsel" if BR2_mipsel
	default "mips64" if BR2_mips64
	default "mips64el" if BR2_mips64el

config BR2_PACKAGE_CHROMIUM_HOST_CPU
	string
	default "x86" if BR2_HOSTARCH = "x86"
	default "x64" if BR2_HOSTARCH = "x86_64"

config BR2_PACKAGE_CHROMIUM
    bool "Build Chromium package"
    default y
	depends on BR2_PACKAGE_CHROMIUM_ARCH_SUPPORTS
	depends on BR2_PACKAGE_CHROMIUM_HOST_ARCH_SUPPORTS
	depends on BR2_INSTALL_LIBSTDCPP
	depends on BR2_USE_WCHAR
	depends on BR2_TOOLCHAIN_HAS_THREADS
	# ICU requires an ELF system
	depends on !BR2_BINFMT_FLAT
	select BR2_PACKAGE_ALSA_LIB
	select BR2_PACKAGE_DBUS
	select BR2_PACKAGE_FONTCONFIG
	select BR2_PACKAGE_FREETYPE
	select BR2_PACKAGE_LIBGLIB2
	select BR2_PACKAGE_LIBNSS
	select BR2_PACKAGE_PCIUTILS
	select BR2_PACKAGE_PULSEAUDIO
	help
	  The Chromium web browser.

if BR2_PACKAGE_CHROMIUM

config BR2_PACKAGE_CHROMIUM_CHROMEDRIVER
	bool "Build chromedriver"
	help
	  Enables building and installing the WebDriver helper tool.

config BR2_PACKAGE_CHROMIUM_SYSTEM_ICU
	bool "Use system ICU library"
	default y
	select BR2_PACKAGE_ICU
	help
	  If disabled, use the copy of the ICU library included as part of the
	  Chromium sources; otherwise use the Buildroot ICU package.

endif

comment "chromium needs a toolchain with w/ C++, wchar"
	depends on BR2_PACKAGE_CHROMIUM_ARCH_SUPPORTS
	depends on !BR2_USE_WCHAR || !BR2_INSTALL_LIBSTDCPP

comment "chromium can only be built on a x86/x86_64 host"
	depends on BR2_PACKAGE_CHROMIUM_ARCH_SUPPORTS
	depends on !BR2_PACKAGE_CHROMIUM_HOST_ARCH_SUPPORTS

